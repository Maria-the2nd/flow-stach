# Cleanup Summary - 2026-01-24

## What Was Cleaned Up

### Files Deleted
1. **`app/admin/import/page.tsx`** - 79KB, 2,075-line old HTML import wizard
   - Replaced by: `/workspace/import` using `lib/project-engine.ts`
   - Reason: Deprecated admin-only tool, moved to user workspace

2. **AGENTS.md files** (6 files) - Claude Code agent documentation
   - `AGENTS.md` (root)
   - `app/AGENTS.md`
   - `components/AGENTS.md`
   - `convex/AGENTS.md`
   - `hooks/AGENTS.md`
   - `lib/AGENTS.md`
   - Reason: Replaced by `SYSTEM_MANIFEST.md` and `AUTHORITATIVE_CURRENT_STATE.md`

### Files Archived
1. **`docs/html-breakdown-process.md`** ‚Üí `docs/archive/`
   - Reason: Referenced deprecated `/admin/import` route, outdated workflow

### Documentation Created
1. **`docs/archive/DEPRECATED_ROUTES.md`** - Complete deprecation history
2. **`docs/archive/WEBFLOW_LIMITATIONS_AUDIT_REPORT.md`** - Audit trail for limitations doc consolidation
3. **`docs/archive/CLEANUP_2026-01-24.md`** - This file

### Documentation Updated
1. **`SYSTEM_MANIFEST.md`** - Updated with:
   - Current active routes (only `/explore` and `/workspace/*`)
   - Enhanced deprecation section
   - Link to deprecation history

---

## Current Routing State

### Active Routes ‚úÖ
**Public:**
- `/explore` - Marketplace (main entry point)
- `/sign-in`, `/sign-up` - Authentication

**Workspace:**
- `/workspace/projects` - User imports
- `/workspace/projects/[id]` - Project detail
- `/workspace/import` - HTML import tool
- `/workspace/library` - Purchased templates (mock)
- `/workspace/components` - Purchased components (mock)

### Redirects ‚Ü©Ô∏è
- `/` ‚Üí `/explore`
- `/assets` ‚Üí `/workspace/projects`
- `/flow-bridge` ‚Üí `/explore`

### Deprecated (404) üö´
- `/admin/import` - Deleted, no redirect
- `/admin/*` - Internal tools only (not in primary navigation)

---

## What Remains in `/admin/*`

These admin tools were **kept** because they serve different purposes:

1. **`/admin/import-react`** - React/JSX to HTML converter
   - Different from HTML import (converts React components, not HTML bundles)
   - Not replaced by workspace import

2. **`/admin/seed`** - Database seeding utility
   - Admin-only tool for managing test data
   - Not part of user journey

---

## Database Cleanup Status

**Schema is clean:**
- `importProjects` - User imports
- `assets` - Marketplace components
- `templates` - Marketplace templates
- `payloads` - Webflow JSON for marketplace items

No migration needed (schema was already correct).

---

## Next Steps (Optional)

1. **Add redirect for old admin route:**
   ```tsx
   // app/admin/import/page.tsx
   import { redirect } from "next/navigation";
   export default function Page() {
     redirect("/workspace/import");
   }
   ```

2. **Audit remaining docs** for old route references
   - Check `docs/ui/*.md` files
   - Check `docs/features/*.md` files
   - Update any hardcoded URLs in comments

3. **Review `/admin/*` access control**
   - Ensure admin routes require proper permissions
   - Document admin-only tools in SYSTEM_MANIFEST

---

## Files Changed (Git Status)

**Deleted:**
- `app/admin/import/page.tsx` (79KB)
- `docs/html-breakdown-process.md` (moved to archive)
- 6x `AGENTS.md` files

**Created:**
- `docs/archive/` directory
- `docs/archive/DEPRECATED_ROUTES.md`
- `docs/archive/WEBFLOW_LIMITATIONS_AUDIT_REPORT.md`
- `docs/archive/CLEANUP_2026-01-24.md`

**Modified:**
- `SYSTEM_MANIFEST.md`
- (User's previous changes to codebase)

---

## Result

‚úÖ **Codebase is cleaner**
- Removed 80KB of deprecated import wizard code
- Consolidated route documentation
- Clear separation: active routes vs deprecated vs internal tools

‚úÖ **Documentation is clearer**
- Single source of truth: `SYSTEM_MANIFEST.md` + `AUTHORITATIVE_CURRENT_STATE.md`
- Deprecation history preserved in `docs/archive/`
- No confusion about which routes are active

‚úÖ **Ready for next phase**
- Clean foundation for building out workspace features
- No legacy code conflicts
- Clear mental model for developers
